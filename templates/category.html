{% extends "base.html" %}

{% block content %}
<div style="margin-bottom: 50px;">
    <span style="font-family: var(--font-head); font-size: 0.75rem; color: var(--meta-color); text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 10px;">
        Directory
    </span>
    <h1>{{ meta.title }}</h1>
    <p style="font-size: 1.1em; color: var(--meta-color); max-width: 680px; margin-top: 10px;">
        {{ meta.desc }}
    </p>
</div>

<ul style="list-style: none; padding: 0;">
    {% for post in posts %}
    <li style="margin-bottom: 30px; border-bottom: 1px solid var(--border-color); padding-bottom: 30px;">
        
        <!-- Title Link (Now uses variable) -->
        <a href="/{{ meta.slug }}/{{ post.slug }}" style="font-size: 1.4rem; font-weight: 700; color: var(--text-color); display: block; line-height: 1.3; margin-bottom: 8px;">
            {{ post.title }}
        </a>
        
        <!-- Description -->
        {% if post.summary %}
        <p style="font-size: 1rem; color: var(--text-color); opacity: 0.9; margin: 0 0 8px 0; line-height: 1.5; max-width: 650px;">
            {{ post.summary|safe }}
        </p>
        {% endif %}

        <a href="/{{ post.category_slug }}/{{ post.slug }}" style="font-size: 0.9rem; font-weight: 500; color: var(--accent-color);">Read Entry &rarr;</a>
        
    </li>
    {% endfor %}
    
    {% if posts|length == 0 %}
    <div style="padding: 20px; background: var(--code-bg); border-radius: 4px; color: var(--meta-color); font-size: 0.9rem;">
        No files currently indexed in this sector.
    </div>
    {% endif %}
</ul>
{% endblock %}